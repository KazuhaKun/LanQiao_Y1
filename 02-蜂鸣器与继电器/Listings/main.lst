C51 COMPILER V9.54   MAIN                                                                  12/23/2024 19:00:07 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <reg52.h>
   2          
   3          // sbit HC138_A = P2^5;
   4          // sbit HC138_B = P2^6;
   5          // sbit HC138_C = P2^7;
   6          // sbit N_BUZZ = P0^6;
   7          
   8          int Number;
   9          
  10          void Delay(unsigned int t)
  11          {
  12   1          while(t--);
  13   1          while(t--);
  14   1      }
  15          
  16          void InitHC138(unsigned char Num)
  17          {
  18   1          P2 = (P2 & 0x1f) | (Num << 5);
  19   1          // P2 = Num << 5;
  20   1          // HC138_A = 0x01 & Num;
  21   1          // HC138_B = 0x01 & (Num >> 1);
  22   1          // HC138_C = 0x01 & (Num >> 2);
  23   1          //原方案 switch case
  24   1      }
  25          
  26          void OutPutP0(unsigned char channel,unsigned char dat)
  27          {
  28   1          InitHC138(channel);
  29   1          P0 = dat;
  30   1      }
  31          
  32          void LEDRunning()
  33          {
  34   1          unsigned char i;
  35   1      
  36   1          for (i = 0; i < 3; i++)
  37   1          {
  38   2              OutPutP0(4,0x00);
  39   2              Delay(60000);
  40   2              Delay(60000);
  41   2              OutPutP0(4,0xff);
  42   2              Delay(60000);
  43   2              Delay(60000);
  44   2          }
  45   1      
  46   1          for (i = 1; i <= 8; i++)
  47   1          {
  48   2              OutPutP0(4,(0xff << i));
  49   2              Delay(60000);
  50   2          }
  51   1      
  52   1          OutPutP0(5,0x10);
  53   1          Delay(60000);
  54   1          Delay(60000);
C51 COMPILER V9.54   MAIN                                                                  12/23/2024 19:00:07 PAGE 2   

  55   1          OutPutP0(5,0x00);
  56   1      
  57   1          InitHC138(4);
  58   1      
  59   1          for (i = 1; i <= 8; i++)
  60   1          {
  61   2              OutPutP0(4,~(0xff << i));
  62   2              Delay(60000);
  63   2          }
  64   1      
  65   1          // OutPutP0(5,0x40);
  66   1          OutPutP0(5,0x40);
  67   1          Delay(60000);
  68   1          Delay(60000);
  69   1          OutPutP0(5,0x00);
  70   1      }
  71          
  72          void InitSystem()
  73          {
  74   1          OutPutP0(5,0x00);
  75   1      }
  76          
  77          
  78          void main()
  79          {
  80   1          InitSystem();
  81   1          Delay(60000);
  82   1          while(1)
  83   1          {
  84   2              LEDRunning();
  85   2          }
  86   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    177    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
