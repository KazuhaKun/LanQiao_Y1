C51 COMPILER V9.54   MAIN                                                                  02/26/2025 20:24:19 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          //#include <reg52.h>
   2          #include <STC15F2K60S2.h>
   3          
   4          sbit S7 = P3^0;
   5          sbit S6 = P3^1;
   6          sbit S5 = P3^2;
   7          sbit S4 = P3^3;
   8          
   9          sbit L1 = P0^0;
  10          sbit L2 = P0^1;
  11          sbit L3 = P0^2;
  12          sbit L4 = P0^3;
  13          sbit L5 = P0^4;
  14          sbit L6 = P0^5;
  15          
  16          
  17          unsigned char mode;
  18          
  19          void Delay(unsigned int t)
  20          {
  21   1          while(t--);
  22   1          // while(t--);
  23   1      }
  24          
  25          void InitHC138(unsigned char channel)
  26          {
  27   1          P2 = (P2 & 0x1f) | (channel << 5);
  28   1      }
  29          
  30          void OutPutP0(unsigned char channel,unsigned char dat)
  31          {
  32   1          InitHC138(channel);
  33   1          P0 = dat;
  34   1      }
  35          
  36          void InitSystem()
  37          {
  38   1          OutPutP0(5,0x00);   // Disable Buzzer
  39   1      }
  40          
  41          // void LED_Show(unsigned char mode,unsigned char dat)
  42          // {
  43          //     unsigned char Num;
  44          //     switch (mode)
  45          //     {
  46          //         case 1:
  47          //             OutPutP0(4,dat);
  48          //             break;
  49                  
  50          //         case 2:
  51          //             if (dat < 9)
  52          //             {
  53          //                 Num = ~(0x01 << (dat-1));
  54          //                 OutPutP0(4,Num);
C51 COMPILER V9.54   MAIN                                                                  02/26/2025 20:24:19 PAGE 2   

  55          //             }
  56          //             break;
  57          //     }
  58          // }
  59          
  60          void LED_Ctrl()
  61          {
  62   1      
  63   1          if(S7 == 0) 
  64   1          {
  65   2              Delay(100);
  66   2              if(S7 == 0)
  67   2              {
  68   3                  if(mode == 0) {L1 = 0;mode = 1;}
  69   3                  else if(mode == 1) {L1 = 1;mode = 0;}
  70   3              }
  71   2              
  72   2          }
  73   1          if(S6 == 0) 
  74   1          {
  75   2              Delay(100);
  76   2              if(S6 == 0)
  77   2              {
  78   3                  if(mode == 0) {L2 = 0;mode = 2;}
  79   3                  else if(mode == 2) {L2 = 1;mode = 0;}
  80   3              }
  81   2              
  82   2          }
  83   1          if(S5 == 0)
  84   1          {
  85   2              Delay(100);
  86   2              if(S5 == 0)
  87   2              {
  88   3                  if(mode == 1) {L3 = 0;while(S5 == 0);L3 = 1;}
  89   3                  else if(mode == 2) {L5 = 0;while(S5 == 0);L5 = 1;}
  90   3              }
  91   2          }
  92   1          if(S4 == 0)
  93   1          {
  94   2              Delay(100);
  95   2              if(S4 == 0)
  96   2              {
  97   3                  if(mode == 1) {L4 = 0;while(S4 == 0);L4 = 1;}
  98   3                  else if(mode == 2) {L6 = 0;while(S4 == 0);L6 = 1;}
  99   3              }
 100   2          }
 101   1      }
 102          
 103          
 104          
 105          void main()
 106          {
 107   1          InitSystem();
 108   1          Delay(60000);
 109   1          OutPutP0(4,0xff);
 110   1          while(1)
 111   1          {        
 112   2              LED_Ctrl();
 113   2          }
 114   1      }


C51 COMPILER V9.54   MAIN                                                                  02/26/2025 20:24:19 PAGE 3   

MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    194    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
