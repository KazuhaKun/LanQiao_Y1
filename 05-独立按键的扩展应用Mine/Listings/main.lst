C51 COMPILER V9.54   MAIN                                                                  02/26/2025 19:40:21 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <reg52.h>
   2          
   3          sbit S7 = P3^0;
   4          sbit S6 = P3^1;
   5          sbit S5 = P3^2;
   6          sbit S4 = P3^3;
   7          
   8          sbit L1 = P0^0;
   9          sbit L2 = P0^1;
  10          sbit L3 = P0^2;
  11          sbit L4 = P0^3;
  12          sbit L5 = P0^4;
  13          sbit L6 = P0^5;
  14          
  15          
  16          unsigned char mode;
  17          
  18          void Delay(unsigned int t)
  19          {
  20   1          while(t--);
  21   1          // while(t--);
  22   1      }
  23          
  24          void InitHC138(unsigned char channel)
  25          {
  26   1          P2 = (P2 & 0x1f) | (channel << 5);
  27   1      }
  28          
  29          void OutPutP0(unsigned char channel,unsigned char dat)
  30          {
  31   1          InitHC138(channel);
  32   1          P0 = dat;
  33   1      }
  34          
  35          void InitSystem()
  36          {
  37   1          OutPutP0(5,0x00);   // Disable Buzzer
  38   1      }
  39          
  40          // void LED_Show(unsigned char mode,unsigned char dat)
  41          // {
  42          //     unsigned char Num;
  43          //     switch (mode)
  44          //     {
  45          //         case 1:
  46          //             OutPutP0(4,dat);
  47          //             break;
  48                  
  49          //         case 2:
  50          //             if (dat < 9)
  51          //             {
  52          //                 Num = ~(0x01 << (dat-1));
  53          //                 OutPutP0(4,Num);
  54          //             }
C51 COMPILER V9.54   MAIN                                                                  02/26/2025 19:40:21 PAGE 2   

  55          //             break;
  56          //     }
  57          // }
  58          
  59          void LED_Ctrl()
  60          {
  61   1      
  62   1          if(S7 == 0) 
  63   1          {
  64   2              Delay(100);
  65   2              if(S7 == 0)
  66   2              {
  67   3                  if(mode == 0) {L1 = 0;mode = 1;}
  68   3                  else if(mode == 1) {L1 = 1;mode = 0;}
  69   3              }
  70   2              
  71   2          }
  72   1          if(S6 == 0) 
  73   1          {
  74   2              Delay(100);
  75   2              if(S6 == 0)
  76   2              {
  77   3                  if(mode == 0) {L2 = 0;mode = 2;}
  78   3                  else if(mode == 2) {L2 = 1;mode = 0;}
  79   3              }
  80   2              
  81   2          }
  82   1          if(S5 == 0)
  83   1          {
  84   2              Delay(100);
  85   2              if(S5 == 0)
  86   2              {
  87   3                  if(mode == 1) {L3 = 0;while(S5 == 0);L3 = 1;}
  88   3                  else if(mode == 2) {L5 = 0;while(S5 == 0);L5 = 1;}
  89   3              }
  90   2          }
  91   1          if(S4 == 0)
  92   1          {
  93   2              Delay(100);
  94   2              if(S4 == 0)
  95   2              {
  96   3                  if(mode == 1) {L4 = 0;while(S4 == 0);L4 = 1;}
  97   3                  else if(mode == 2) {L6 = 0;while(S4 == 0);L6 = 1;}
  98   3              }
  99   2          }
 100   1      }
 101          
 102          
 103          
 104          void main()
 105          {
 106   1          InitSystem();
 107   1          Delay(60000);
 108   1          OutPutP0(4,0xff);
 109   1          while(1)
 110   1          {        
 111   2              LED_Ctrl();
 112   2          }
 113   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
C51 COMPILER V9.54   MAIN                                                                  02/26/2025 19:40:21 PAGE 3   

   CODE SIZE        =    194    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
